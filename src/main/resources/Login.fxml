<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>
<?import javafx.scene.image.*?>
<?import javafx.scene.effect.*?>

<StackPane xmlns:fx="http://javafx.com/fxml" fx:controller="Controllers.LoginController">
    <!-- Background Image with Blur Effect -->
    <ImageView fitWidth="1920" fitHeight="1080" preserveRatio="false">
        <Image url="bg.jpeg"/>
        <effect>
            <GaussianBlur radius="5"/>
        </effect>
    </ImageView>
    
    <!-- Main Content -->
    <VBox alignment="CENTER" maxWidth="450" minWidth="350" spacing="25" 
          style="-fx-background-color: rgba(26, 33, 27, 0.85); -fx-background-radius: 20;">
        <padding>
            <Insets top="40" right="40" bottom="40" left="40"/>
        </padding>
        
        <effect>
            <DropShadow color="rgba(0, 0, 0, 0.3)" radius="10" spread="0.2"/>
        </effect>

        <!-- Logo with glow effect -->
        <ImageView fitHeight="120" fitWidth="120" preserveRatio="true">
            <Image url="logo_white.png"/>
            <effect>
                <Glow level="0.3"/>
            </effect>
        </ImageView>

        <Text style="-fx-fill: #C6B9AB; -fx-font-size: 28px; -fx-font-weight: bold;" text="Connexion"/>
        
        <!-- Email Field -->
        <VBox spacing="8" fillWidth="true">
            <Label text="Email" style="-fx-text-fill: #C6B9AB; -fx-font-size: 14px;"/>
            <TextField fx:id="emailField" 
                      style="-fx-background-color: rgba(198, 185, 171, 0.9); -fx-text-fill: #1A211B; 
                             -fx-prompt-text-fill: #666666; -fx-background-radius: 5;"/>
        </VBox>
        
        <!-- Password Field -->
        <VBox spacing="8" fillWidth="true">
            <Label text="Mot de passe" style="-fx-text-fill: #C6B9AB; -fx-font-size: 14px;"/>
            <PasswordField fx:id="passwordField"
                          style="-fx-background-color: rgba(198, 185, 171, 0.9); -fx-text-fill: #1A211B; 
                                 -fx-prompt-text-fill: #666666; -fx-background-radius: 5;"/>
            <Hyperlink fx:id="forgotPasswordLink" text="Mot de passe oubliÃ©?" 
                       style="-fx-text-fill: #B05A36; -fx-font-weight: bold; -fx-underline: false;"
                       onAction="#handleForgotPassword"/>
        </VBox>
        
        <!-- Login Button with hover effect -->
        <Button fx:id="loginButton" text="Se connecter" 
                style="-fx-background-color: #B05A36; -fx-text-fill: #C6B9AB; 
                       -fx-background-radius: 5; -fx-font-size: 14px; -fx-font-weight: bold;
                       -fx-cursor: hand;"
                onAction="#handleLogin" maxWidth="Infinity">
            <effect>
                <DropShadow color="rgba(0, 0, 0, 0.3)" radius="5"/>
            </effect>
        </Button>
                
        <!-- Signup Link -->
        <HBox alignment="CENTER" spacing="10">
            <Text style="-fx-fill: #C6B9AB;" text="Pas encore de compte?"/>
            <Hyperlink fx:id="signupLink" text="S'inscrire" 
                       style="-fx-text-fill: #B05A36; -fx-font-weight: bold; -fx-underline: false;"
                       onAction="#switchToSignup"/>
        </HBox>
        
        <!-- Error Messages -->
        <Label fx:id="messageLabel" style="-fx-text-fill: #B05A36;" wrapText="true" alignment="CENTER"/>
    </VBox>
</StackPane> 